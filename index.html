<!DOCTYPE html>
<html lang="en">
<head>
    <meta name="google-adsense-account" content="ca-pub-5330413892781018">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Download First Game</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.1/css/all.min.css" integrity="sha512-5Hs3dF2AEPkpNAR7UiOHba+lRSJNeM2ECkwxUIxC1Q/FLycGTbNapWXB4tP889k5T5Ju8fs4b1P5z/iB4nMfSQ==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200&icon_names=stadia_controller" />
    <link rel="stylesheet" href='styleWebsite.css' Media='all'>
    <link rel="icon" href="image/Game_IC.png">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-97Y58KGXPB"></script>
    <script async src="https://cdn.ampproject.org/v0.js"></script>
      <script async custom-element="amp-auto-ads"
            src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js"></script>
<script src="https://www.google.com/recaptcha/enterprise.js?render=6Ldv8okrAAAAAJcDlwcpIXDKBBtqquak5q89HQpm"></script>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5330413892781018"
     crossorigin="anonymous"></script>
    <!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-KDWCZN7G');</script>
</head>
    <body>
        <header>
            <li class='MainLogo'>
            <img src='image/Game_IC.png' loading="lazy">
            <span>THe-Gaming-LiFe علي سيد</span>
            </li>
            <nav>
            <a href="DownPage.html" class="NavButton" id="BTN-MoreGame" target="_blank">More Game<i class="fa-solid fa-puzzle-piece"></i></a>
            <a href='privacy.html' class='NavButton' id="BTN-Privacy" target="_blank">Privacy Policy<i class="fa-solid fa-shield-halved"></i></a>
            <a href="About Us.html" class="NavButton" id="BTN-Refresh">About Us<i class="fa-regular fa-circle-question"></i></a>
            <div class="NavButton" id="BTN-FormLoginSingUp" onclick="OpenFormLoginMenu()">Login<i class="fa-regular fa-circle-right"></i></div>
            <div class="NavButton" id="BTN-Menu" onclick="OpenMenu()">Menu<i class="fa-solid fa-bars"></i></div>
            <a href="javascript:window.location.reload(true)" class="NavButton" id="BTN-Refresh">Refresh<i class='fa-solid fa-refresh'></i></a>
            </nav>
            </header>
            <div class="Wrap-Menu" id="Wrap-Menu">
                <div class="Top-Menu"><span>Menu Items</span></div>
                <a href="DownPage.html" class="Menu-BTNS" id="BTN-MoreGame-Menu"><span>More Game</span><i class="fa-solid fa-puzzle-piece"></i></a>
                <a href='privacy.html' class='Menu-BTNS' id="BTN-Privacy-Menu" target="_blank"><span>Privacy Policy</span><i class="fa-solid fa-shield-halved"></i></a>
                <a href="About Us.html" class="Menu-BTNS" id="BTN-AboutUs-Menu"><span>About Us</span><i class="fa-regular fa-circle-question"></i></a>
                <div class="Menu-BTNS" id="BTN-FormLoginSingUp-Menu" onclick="OpenFormLoginMenu()"><span>Login</span><i class="fa-regular fa-circle-right"></i></div>
                <a href="javascript:window.location.reload(true)" class="Menu-BTNS" id="BTN-Refresh-Menu"><span>Refresh</span><i class='fa-solid fa-refresh'></i></a>
                <div class="Close-Menu" id="BTN-Exit-Menu" onclick="CloseMenu()">Close Menu<i class='fa-solid fa-xmark'></i></div>
                </div>            
            <div class="WrapDownPage">
                <div class="TopDownPage">
                    Download Page
                </div>
                <div class="BoxDownPage">
                    <div class="LF-GM-Box">
                       <div class="Details-GM-Box">
                        <div class="Bar-GM-Box">
                            <span class="DT-Span">System OS:</span>
                            <span class="DT-Span">Windows<i class="fa-brands fa-windows"></i></span>
                            <span>11/10/7 64bit</span>
                        </div>
                        <div class="Bar-GM-Box">
                            <span class="DT-Span">Graphics Card:</span>
                            <span>None</span>
                        </div>
                        <div class="Bar-GM-Box">
                            <span class="DT-Span">VRAM:</span>
                            <span>None</span>
                        </div>
                        <div class="Bar-GM-Box">
                            <span class="DT-Span">Memory:</span>
                            <span>None</span>
                        </div>
                        <div class="Bar-GM-Box">
                            <span class="DT-Span">Free Storage:</span>
                            <span>None</span>
                        </div>
                        <div class="Bar-GM-Box">
                            <span class="DT-Span">Coming In:</span>
                            <span>None</span>
                        </div>
                       </div>
                       <div class="SC-Media-Box">
                        <a href="#Facebook" class="BTN-SC">
                            <i class="fa-brands fa-facebook"></i>
                            <span>Facebook</span>
                        </a>
                        <a href="#youtube" class="BTN-SC">
                            <i class="fa-brands fa-youtube"></i>
                            <span>Youtube</span>
                        </a>
                        <a href="#instagram" class="BTN-SC">
                            <i class="fa-brands fa-instagram"></i>
                            <span>Instagram</span>
                        </a>
                        <a href="#gmail" class="BTN-SC">
                            <i class="fa-brands fa-google"></i>
                            <span>Gmail</span>
                        </a>
                        <a href="#LinkedIn" class="BTN-SC">
                            <i class="fa-brands fa-linkedin"></i>
                            <span>Linked In</span>
                        </a>
                       </div>
                    </div>
                    <div class="RG-GM-Box">
                        <div class="Title-GM-Box">
                            First Game
                        </div>
                    <div class="Wrap-Scroll-Slider">
                        <div class="Wrap-BTN-Scroll-Video">
                            <div class="BTN-Scroll" id="LF-Scroll"><i class="fa-solid fa-arrow-left"></i></div>
                            <div class="Video-GM-Box">
                               <video src="videos/LoadingIntro.mp4" preload="none" autoplay muted loop></video>
                            </div>
                            <div class="BTN-Scroll" id="RG-Scroll"><i class="fa-solid fa-arrow-right"></i></div>
                        </div>  
                        <div class="Wrap-ScrollSlider-Bottom">
                            <div class="Scroll-Slider-Buttons">
                            <div class="BTN-ELM-SLD">1</div>
                            <div class="BTN-ELM-SLD">2</div>
                            <div class="BTN-ELM-SLD">3</div>
                            <div class="BTN-ELM-SLD">4</div>
                            <div class="BTN-ELM-SLD">5</div>
                </div>
                <div class="BTN-DownGame"><span>Comming</span><i class="fa-solid fa-circle-down"></i></div>
            </div>  
            </div>
        </div>
                </div>
                <div class="P-GM-Page">
                <p>This game was created using Unity Engine 6 and will be available for free soon.</p>
                </div>
                <div class="Comment-GM-Page">
                           <ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-5330413892781018"
     data-ad-slot="9612463188"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
        <ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-5330413892781018"
     data-ad-slot="9612463188"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
                    <ins class="adsbygoogle"
     style="display:block"
     data-ad-format="fluid"
     data-ad-layout-key="-6t+ed+2i-1n-4w"
     data-ad-client="ca-pub-5330413892781018"
     data-ad-slot="3047054833"></ins>
<ins class="adsbygoogle"
     style="display:block"
     data-ad-format="fluid"
     data-ad-layout-key="-e9+6l-2v-aq+u1"
     data-ad-client="ca-pub-5330413892781018"
     data-ad-slot="1841784379"></ins>
                    <ins class="adsbygoogle"
     style="display:block"
     data-ad-format="autorelaxed"
     data-ad-client="ca-pub-5330413892781018"
     data-ad-slot="2468470332"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
                    <amp-auto-ads type="adsense"
        data-ad-client="ca-pub-5330413892781018">
</amp-auto-ads>
                </div>
            </div>
            <div class="FormBoxLogin" id="FormBoxLoginId">
                <div class="TopTitleAndExitForm">
                <p>Login Form</p>
                <div class="CloseForm" id="CloseFormBTN" onclick="CloseFormLogin()"><i class="fa-solid fa-xmark"></i></div>
                </div>
                <form action="LoginForm.php">
                    <div class="BoxInputForm">
                        <label for="UserName">User Name:</label>
                        <div class="BoxInput">
                            <div class="IC-INPUT"><i class="fa-solid fa-user"></i></div>
                            <input type="text" name="uname" id="UserName" placeholder="User Name...">
                            <div class="IC-Inupt-BTN"><i class="fa-solid fa-info"></i></div>
                        </div>
                    </div>
                    <div class="BoxInputForm">
                        <label for="Password">Password:</label>
                        <div class="BoxInput">
                            <div class="IC-INPUT"><i class="fa-solid fa-key"></i></div>
                            <input type="password" name="upass" id="PasswordLogin" placeholder="Password...">
                            <div class="IC-Inupt-BTN" id="Password-BTN" onclick="PasswordLoginBTN()"><i class="fa-regular fa-eye" id="IC-Eye-Login"></i></div>
                        </div>
                    </div>
                    <div class="ButtonForm">
                    <button type="reset">Reset<i class="fa-solid fa-arrow-rotate-right"></i></button>
                    <button type="submit">Login<i class="fa-regular fa-circle-right"></i></button>
                </div>
                <div class="OrLoginSingUp">
                    <p>Or</p>
                    <button type="button" onclick="OpenFormSingUpBTN()">Sing Up</button>
                   </div>
                </form>  
            </div>
            <div class="FormBoxSingUp" id="FormBoxSingUpId">
                <div class="TopTitleAndExitForm">
                <p>Sing Up Form</p>
                <div class="CloseForm" id="CloseFormBTN" onclick="CloseFormSingUp()"><i class="fa-solid fa-xmark"></i></div>
                </div>
                <form action="SingUpForm.php" required>
                    <div class="BoxInputForm">
                        <label for="UserName">User Name:</label>
                        <div class="BoxInput">
                            <div class="IC-INPUT"><i class="fa-solid fa-user"></i></div>
                            <input type="text" name="uname" id="UserName" placeholder="User Name...">
                            <div class="IC-Inupt-BTN"><i class="fa-solid fa-t"></i></div>
                        </div>
                    </div>
                    <div class="BoxInputForm">
                        <label for="Email">Email Address:</label>
                        <div class="BoxInput">
                            <div class="IC-INPUT"><i class="fa-solid fa-massage"></i></div>
                            <input type="email" name="uemail" id="Email" placeholder="Email Address...">
                            <div class="IC-Inupt-BTN"><i class="fa-solid fa-at"></i></div>
                        </div>
                    </div>
                    <div class="BoxInputForm">
                        <label for="Password">Password:</label>
                        <div class="BoxInput">
                            <div class="IC-INPUT"><i class="fa-solid fa-key"></i></div>
                            <input type="password" name="upass" id="PasswordSingUp" placeholder="Password...">
                            <div class="IC-Inupt-BTN" id="Password-BTN" onclick="PasswordSingUpBTN()"><i class="fa-regular fa-eye" id="IC-Eye-SingUp"></i></div>
                        </div>
                    </div>
                    <div class="BoxInputForm-Gn">
                        <label class="Title-Gender">Gender:</label>
                        <div class="BoxInput-Gn">
                            <label class="Gn-Input">
                                <input type="radio" name="gender" value="male" id="genderMale">
                                <span class="custom-radio"></span>
                                <div class="Gn-Box">
                                  <i class="fa-solid fa-male"></i>
                                  <span class="LabelGender">Male</span>
                                </div>
                              </label>
                              <label class="Gn-Input">
                                <input type="radio" name="gender" value="female" id="genderFemale">
                                <span class="custom-radio"></span>
                                <div class="Gn-Box">
                                  <i class="fa-solid fa-female"></i>
                                  <span class="LabelGender">Female</span>
                                </div>
                              </label>
                        </div>
                        <p class="Text-Note">Please complete all fields to continue download.</p>
                      </div>
                      
                    <div class="ButtonForm">
                    <button type="reset">Reset<i class="fa-solid fa-arrow-rotate-right"></i></button>
                    <button type="submit">Sing Up<i class="fa-regular fa-circle-right"></i></button>
                </div>
               <div class="OrLoginSingUp">
                <p>Or</p>
                <button type="button" onclick="OpenFormLoginpBTN()">Login</button>
               </div>
                </form>
            </div>
            <div class="SuccessForm" style='display:none'>
                <div class="Top-SuccessForm">
                        <div class="Logo-Image-Text">
                            <img src="image/Game_IC.png" alt="" srcset="">
                            <span>Success</span>
                        </div>
                        <div class="CloseBTN-SuccessForm">
                            <i class="fa-solid fa-xmark"></i>
                        </div>
                    </div>
                    <div class="Main-SuccessForm">
                        <div class="TrueOrFalse-Image">
                            <i class="fa-solid fa-true" style="display: none;"></i>
                            <img src="image/Game_IC.png" alt="" srcset="">
                        </div>
                        <div class="TrueOrFalse-Text">
                            <div class="BG-Load-SuccessForm">
                            <div class="Load-SuccessForm"></div>
                            <p>Success Work Thank You For Sing Up</p>
                        </div>
                        </div>
                    </div>
                    <div class="Bottom-SuccessForm">
                        <button type="button" id="SuccessForm-Done-BTN" onclick="CloseSuccessForm()">Done</button>
                        <button type="button" disabled="disabled">Retry</button>
                    </div>
            </div>
        <!-- Google Tag Manager (noscript) -->
<!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KDWCZN7G"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->
            <div class='FooterBottom'>
    <div class='FooterInfoText'>More For You:</div>
    <a href="https://freecash.com/r/LCME1" target="_blank" class='FreeCashBTN'>
    SingUp In FreeCash & Earn Money
  <i class="fa-solid fa-coins"></i>
      </a>
    <div class='AmountUsersBTN'>عدد الزوار: <span id="visitor-count">0</span></div>
  </div>
        <script src="JavaScript.js" type='text/javascript'></script>
        <script type="module">

  // ✅ استيراد مكتبات Firebase (نفس النسخة)
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";
import { getDatabase, ref, push, onValue } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-database.js";
import { getAnalytics } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-analytics.js";
import { getFirestore, collection, getDocs } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore.js";
import { getAuth, onAuthStateChanged, signInWithEmailAndPassword, createUserWithEmailAndPassword } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-auth.js";
import { initializeAppCheck, ReCaptchaV3Provider } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app-check.js";
  // ✅ إعداد Firebase
  const firebaseConfig = {
    apiKey: "AIzaSyBnA0eYHQbR8gfrkjXn0mEtwSh0MCHJpfU",
    authDomain: "thelifegamesvisitors.firebaseapp.com",
    databaseURL: "https://thelifegamesvisitors-default-rtdb.firebaseio.com",
    projectId: "thelifegamesvisitors",
    storageBucket: "thelifegamesvisitors.firebasestorage.app",
    messagingSenderId: "452655494921",
    appId: "1:452655494921:web:7a713d52f612e3724385d8",
    measurementId: "G-M0FV9P25PP"
  };

  // ✅ تهيئة Firebase
  const app = initializeApp(firebaseConfig);
  const analytics = getAnalytics(app);
  const dbRTDB = getDatabase(app);
  const dbFS = getFirestore(app);
  const auth = getAuth(app);
//onAuthStateChanged(auth, (user) => {
 // if (!user) {
  //  window.location.href = "/";
 // }
// });

  // ✅ تفعيل App Check (reCAPTCHA v3)
window.grecaptcha.ready(() => {
  initializeAppCheck(app, {
    provider: new ReCaptchaV3Provider('6Ldv8okrAAAAAJcDlwcpIXDKBBtqquak5q89HQpm'),
    isTokenAutoRefreshEnabled: true
  });
});
  // ✅ تسجيل الزائر في Realtime Database
  const visitorsRef = ref(dbRTDB, 'visitors');
  push(visitorsRef, { timestamp: new Date().toISOString() });

  // ✅ عرض عدد الزوار في العنصر
  window.addEventListener("DOMContentLoaded", () => {
    onValue(visitorsRef, (snapshot) => {
      const count = snapshot.exists() ? Object.keys(snapshot.val()).length : 0;
      const el = document.getElementById("visitor-count");
      if (el) el.textContent = count;
    });
  });

  // ✅ تسجيل الزائر في Firestore
  (async () => {
    try {
      const res = await fetch("https://ipapi.co/json/");
      const ipData = await res.json();

      const userAgent = navigator.userAgent;
      const browser = (() => {
        if (/Edg/.test(userAgent)) return "Edge";
        if (/Chrome/.test(userAgent)) return "Chrome";
        if (/Firefox/.test(userAgent)) return "Firefox";
        if (/Safari/.test(userAgent)) return "Safari";
        return "Unknown";
      })();
      const deviceType = /Mobi|Android/i.test(userAgent) ? "📱 موبايل" : "💻 كمبيوتر";

      const visitData = {
        ip: ipData.ip,
        city: ipData.city,
        region: ipData.region,
        country: ipData.country_name,
        page: window.location.pathname,
        timestamp: new Date().toISOString(),
        browser,
        device: deviceType,
        duration: 0
      };

      const docRef = await addDoc(collection(dbFS, "visitors"), visitData);
      sessionStorage.setItem("visitorDocId", docRef.id);

      const start = Date.now();
      window.addEventListener("beforeunload", async () => {
        const duration = Math.round((Date.now() - start) / 1000);
        const id = sessionStorage.getItem("visitorDocId");
        if (id) {
          await updateDoc(doc(dbFS, "visitors", id), { duration });
        }
      });

    } catch (err) {
      console.error("🔥 خطأ أثناء تسجيل بيانات الزائر:", err);
    }
  })();

  // ✅ تسجيل حساب
  window.addEventListener("DOMContentLoaded", () => {
    const signUpForm = document.getElementById('FormSingUp');
    const loginForm = document.getElementById('FormLogIn');
    const submitSignUp = document.getElementById('SubmitButtonSingUp');
    const submitLogin = document.getElementById('SubmitButtonLogin');

    // 🟢 إنشاء حساب جديد
    if (submitSignUp) {
      submitSignUp.addEventListener('click', async (event) => {
        event.preventDefault();

        const email = document.getElementById('emailSignUp')?.value.trim();
        const password = document.getElementById('password')?.value;
        const gender = signUpForm?.querySelector('input[name="gender"]:checked')?.value;

        if (!email || !password || !gender) {
          alert("❌ من فضلك أكمل كل الحقول.");
          return;
        }

        try {
          const userCredential = await createUserWithEmailAndPassword(auth, email, password);
          const user = userCredential.user;

          await setDoc(doc(dbFS, "users", user.uid), {
            email,
            gender,
            createdAt: new Date().toISOString()
          });

          alert("✅ تم إنشاء الحساب بنجاح");
          window.location.href = "https://the-life-games.vercel.app/";
        } catch (error) {
          alert("❌ " + error.message);
        }
      });
    }

    // 🟢 تسجيل دخول
    if (loginForm) {
      loginForm.addEventListener('submit', async (e) => {
        e.preventDefault();
       const email = loginForm.querySelector('#emailLogin')?.value.trim();
        const password = loginForm.querySelector('input[name="upass"]')?.value;

        if (!email || !password) {
          alert("❌ من فضلك أدخل البريد وكلمة المرور");
          return;
        }

        try {
          const userCredential = await signInWithEmailAndPassword(auth, email, password);
          alert("✅ تم تسجيل الدخول بنجاح");
          window.location.href = "https://the-life-games.vercel.app/";
        } catch (error) {
          alert("❌ " + error.message);
        }
      });
    }
  });

</script>
</body>
</html>
